version: '3'

services:
  mysqld:
    image: habibiefaried/mysql-ndb:latest
    command: mysqld
    environment:
      MYSQL_ROOT_PASSWORD: "MySQL2021"
    container_name: mysqld

  phpmyadmin:
    image: phpmyadmin/phpmyadmin
    environment:
      PMA_HOST: "mysqld"
      PMA_USER: "root"
      PMA_PASSWORD: "MySQL2021"
      MYSQL_ROOT_PASSWORD: "MySQL2021"
      MYSQL_PASSWORD: "MySQL2021"
    ports:
      - 50080:80
    container_name: phpmyadmin

  ndb1:
    image: habibiefaried/mysql-ndb:latest
    command: ndbd
    container_name: ndb1

  ndb2:
    image: habibiefaried/mysql-ndb:latest
    command: ndbd
    container_name: ndb2

  nodemgmt:
    image: habibiefaried/mysql-ndb:latest
    command: ndb_mgmd
    container_name: nodemgmt

# On mysqld, execute this command:
## CREATE USER 'root'@'%' IDENTIFIED BY 'MySQL2021';
## GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' WITH GRANT OPTION;
## FLUSH PRIVILEGES;
## select * from information_schema.user_privileges;